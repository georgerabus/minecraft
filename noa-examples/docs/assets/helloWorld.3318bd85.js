import{E as u}from"./index.2b3d1184.js";import{C as D}from"./babylon.39bd9ef3.js";var p={debug:!0,showFPS:!0,chunkSize:32,chunkAddDistance:2.5,chunkRemoveDistance:3.5},e=new u(p),k=[.45,.36,.22],w=[.1,.8,.2];e.registry.registerMaterial("dirt",{color:k});e.registry.registerMaterial("grass",{color:w});var y=e.registry.registerBlock(1,{material:"dirt"}),l=e.registry.registerBlock(2,{material:"grass"});function B(r,t,s){if(t<-3)return y;var c=2*Math.sin(r/10)+3*Math.cos(s/20);return t<c?l:0}e.world.on("worldDataNeeded",function(r,t,s,c,h){for(var i=0;i<t.shape[0];i++)for(var n=0;n<t.shape[1];n++)for(var o=0;o<t.shape[2];o++){var v=B(s+i,c+n,h+o);t.set(i,n,o,v)}e.world.setChunkData(r,t)});var g=e.playerEntity,m=e.entities.getPositionData(g),d=m.width,f=m.height,z=e.rendering.getScene(),a=D("player-mesh",{},z);a.scaling.x=d;a.scaling.z=d;a.scaling.y=f;a.material=e.rendering.makeStandardMaterial();e.entities.addComponent(g,e.entities.names.mesh,{mesh:a,offset:[0,f/2,0]});e.inputs.down.on("fire",function(){if(e.targetedBlock){var r=e.targetedBlock.position;e.setBlock(0,r[0],r[1],r[2])}});e.inputs.down.on("alt-fire",function(){if(e.targetedBlock){var r=e.targetedBlock.adjacent;e.setBlock(l,r[0],r[1],r[2])}});e.inputs.bind("alt-fire","KeyE");e.on("tick",function(r){var t=e.inputs.pointerState.scrolly;t!==0&&(e.camera.zoomDistance+=t>0?1:-1,e.camera.zoomDistance<0&&(e.camera.zoomDistance=0),e.camera.zoomDistance>10&&(e.camera.zoomDistance=10))});
